<div class="background">
  <div class="overlay">
    <div class="container">
      <h2 class="title">
        <!-- Replace text title with logo image -->
        <div class="app-logo">
          <img src="assets/logo.png" alt="App Logo" />
        </div>

      </h2>
      <input type="text" class="search-box" [formControl]="cityControl" placeholder="Enter city name" />

      <!-- <div *ngIf="weatherData">
        <h3>{{ weatherData.name }} ({{ weatherData.sys.country }})</h3>
      </div> -->

      <div *ngIf="errorMessage" style="color: red">
        ❌ {{ errorMessage }}
      </div>

      <div *ngIf="weatherData">
        

        <!-- </div> -->
        <div class="forecast-wrapper">
          <!-- LEFT SIDE: Additional Info Card -->
          <div class="info-card">
            <h3>Today's Weather</h3>
            <div class="weather-icon">
              <img src="https://openweathermap.org/img/wn/{{ weatherData.weather[0].icon}}.png" alt="rain" />
            </div>
            <div *ngIf="isF">
              <div class="temp-today">{{ weatherData.main.feels_like * 1.8 + 32 | number:'1.1-1'}} °F</div>
            </div>
            <div *ngIf=!isF>
              <div class="temp-today">{{ weatherData.main.feels_like | number:'1.1-1'}} °C</div>
            </div>
            <div class="description">{{ weatherData.weather[0].description }}</div>
            <div class="location"><h3>{{ weatherData.name }} ({{ weatherData.sys.country }})</h3></div>

            <div class="extra-info">
            <div *ngIf="isF">
              <div class="info-row">
              <span>Max Temp:</span>
              <span>{{ (weatherData.main.feels_like * 1.8 + 32 | number:'1.1-1') }} °F</span>
              </div>
            </div>
            <div *ngIf=!isF>
              <div class="info-row">
              <span>Max Temp:</span>
              <span>{{ (weatherData.main.feels_like | number:'1.1-1') }} °C</span>
              </div>
            </div>
            <div class="info-row">
              <span>Humidity:</span>
              <span>{{ weatherData.main.humidity }} %</span>
            </div>
            <div *ngIf="isF">
              <div class="info-row">
              <span>Max Temp:</span>
              <span>{{ (weatherData.main.temp_max * 1.8 + 32 | number:'1.1-1') }} °F</span>
              </div>
            </div>
            <div *ngIf=!isF>
              <div class="info-row">
              <span>Max Temp:</span>
              <span>{{ (weatherData.main.temp_max | number:'1.1-1') }} °C</span>
              </div>
            </div>
            
            <div *ngIf="isF">
              <div class="info-row">
              <span>Max Temp:</span>
              <span>{{ (weatherData.main.temp_min * 1.8 + 32 | number:'1.1-1') }} °F</span>
              </div>
            </div>
            <div *ngIf=!isF>
              <div class="info-row">
              <span>Max Temp:</span>
              <span>{{ (weatherData.main.temp_min | number:'1.1-1') }} °C</span>
              </div>
            </div>
          </div>
          </div>

          <!-- RIGHT SIDE: 8-Day Forecast -->
          <div class="forecast-container">
            <h2>5-day forecast</h2>

            <div class="forecast-row" *ngFor="let day of forecastData">
              <div class="day">{{ day.date }}</div>
              <div class="icon">
                <img src="https://openweathermap.org/img/wn/{{day.icon}}" alt="" />
              </div>
              
             <div *ngIf="isF">
              <div class="temp">{{ (day.tempMax * 1.8 + 32 | number:'1.1-1') }} / {{ (day.tempMin * 1.8 + 32 | number:'1.1-1') }} °F</div>
            </div>
            <div *ngIf=!isF>
              <div class="temp">{{ (day.tempMax | number:'1.1-1') }} / {{ (day.tempMin | number:'1.1-1') }} °C</div>
            </div>
              <div class="description">{{ day.type }}</div>
              <!-- <div class="dropdown">▼</div> -->
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>